{"version":3,"sources":["../../src/pages/lm/lmtagsummarytech/lmtagsummarytechinfo/lmtagsummarytechinfo.ts","../../src/pages/lm/lmtagsummarytech/lmtagsummarytechinfo/lmtagsummarytechinfo.module.ts"],"names":[],"mappings":"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","file":"46.js","sourcesContent":["import { Component } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { AlertController, Events, IonicPage, NavController, NavParams, Platform, ToastController } from 'ionic-angular';\nimport { ConfigProvider } from '../../../../providers/config';\nimport { HttpServicesProvider } from '../../../../providers/http-services';\nimport { PhoneDeviceProvider } from '../../../../providers/phone-device';\ndeclare var $: any\n\n\n/**\n * Generated class for the LmtagsummarytechinfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-lmtagsummarytechinfo',\n  templateUrl: 'lmtagsummarytechinfo.html',\n})\nexport class LmtagsummarytechinfoPage {\n  public tag = false\n  public info = {}\n  public trustsrc: SafeUrl;\n  public src = '/report/view/html/';\n  public code = 'lmtagSummaryTech'\n  public hasFetchBackRole = false\n  public hasSaveRole = true\n  public loading = false\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public phoneDevice: PhoneDeviceProvider,\n    public trusturl: DomSanitizer,\n    public platform: Platform,\n    public httpService: HttpServicesProvider,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController,\n    public events: Events) {\n\n    this.info = this.navParams.get('item')\n    console.log(this.info);\n    if (this.info['summaryid']) {\n      this.src = `${ConfigProvider.apiUrl}${this.src}${this.code}?id=${this.info['summaryid']}`\n      // this.trustsrc = this.trusturl.bypassSecurityTrustResourceUrl(this.src);\n      this.loading = true;\n      this.httpService.getBlob(this.src, res => {\n        this.loading = false;\n        console.log(`res => `, res)\n        if (res != '' && res != null && res.size != 0) {\n          this.trustsrc = this.trusturl.bypassSecurityTrustResourceUrl(URL.createObjectURL(res));\n          this.autoComputeIframe();\n        } else {\n          this.trustsrc = null;\n        }\n      })\n    }\n    this.phoneDevice.phoneBacktoPop(this.navCtrl);\n  }\n\n  // 因为iframe 加载是在页面dom节点完全生成完成之后所以要加上延迟函数\n  ionViewDidLoad() {\n    this.findProjectInfo()\n\n    this.events.subscribe('workflowPage', (flag, time) => {\n      console.log('workflowPage: ' + flag, time);\n      this.updateWfstatus()\n    });\n\n    if (this.info['wfid']) {\n      this.getButtonControl()\n      this.checkFetchBack()\n    }\n  }\n\n  autoComputeIframe() {\n    setTimeout(() => {\n      console.log('platform is ios ? ', this.platform.is('ios'))\n\n      // 按照设备高度填充剩余空间\n      const len = $('.main').length - 1\n      const height = $('.main')[len].offsetHeight - $('.main')[len].children[0].offsetHeight - 20\n      $('#iframeHeight').css('height', height)\n      $('#iframe').css('visibility', 'visible');\n\n      if ($('#iframe').length == 0 || $('#iframe')[0].contentWindow.document.body.children.length == 0) {\n        return;\n      }\n\n      if (this.platform.is('ios')) {\n        $('#iframe')[0].contentWindow.document.body.children[0].style['marginLeft'] = '-20px';\n      } else {\n        $('#iframe')[0].contentWindow.document.body.style['margin'] = '0px';\n      }\n\n      // 按照内容实际宽度缩放\n      const iframeWidth = $('#iframe')[0].contentWindow.innerWidth\n      const fileWidth = $('#iframe')[0].contentWindow.document.body.children[0].clientWidth\n      const widthScale = (iframeWidth / fileWidth).toFixed(3)\n\n      // 按照内容实际高度裁剪，避免缩放导致的大片空白\n      const fileHeight = $('#iframe')[0].contentWindow.document.body.children[0].clientHeight * +widthScale;\n      $('#iframe')[0].contentWindow.document.body.style['height'] = `${fileHeight}`\n      $('#iframe')[0].contentWindow.document.body.children[0].style['transform'] = `scale(${widthScale})`;\n      $('#iframe')[0].contentWindow.document.body.children[0].style['transform-origin'] = '0 top 0';\n\n      let touchtime = 0;\n      // 模拟ios双击\n      $('#iframe')[0].contentWindow.document.body.children[0].onclick = () => {\n        // console.log(this.tag);\n        if (new Date().getTime() - touchtime < 500) {\n          // console.log('双击了');\n          $('#iframe')[0].contentWindow.document.body.children[0].style['transform'] = 'scale(1,1)';\n          this.tag = !this.tag;\n        } else {\n          if ($('#iframe')[0].contentWindow.innerWidth < 375) {\n            $('#iframe')[0].contentWindow.document.body.children[0].style['transform'] = `scale(${widthScale},.51)`;\n          } else {\n            $('#iframe')[0].contentWindow.document.body.children[0].style['transform'] = `scale(${widthScale},.58)`;\n          }\n          touchtime = new Date().getTime();\n          this.tag = !this.tag;\n        }\n      }\n    }, 1000)\n  }\n\n  showbigcontent() {\n    $('#iframe')[0].contentWindow.document.body.children[0].style['zoom'] = 2;\n  }\n\n  findProjectInfo() {\n    this.httpService.get('/lmpjProject/findProjectMessage?id=' + this.info['projectid'], null, data => {\n      if (data.code == 0) {\n        this.info['planendtime'] = data.data['planendtime'].split(' ')[0]\n        this.info['planstarttime'] = data.data['planstarttime'].split(' ')[0]\n      }\n    })\n  }\n\n  //读取用户是否有工作流按钮权限\n  getButtonControl() {\n    this.httpService.workflowCheckAuth(this.info['wfid'], res => {\n      if (res.code == 0) {\n        this.hasSaveRole = true;\n      } else {\n        this.hasSaveRole = false;\n      }\n      console.log('hasSaveRole' + this.hasSaveRole);\n    })\n  }\n  send() {\n    if (this.info['wfid'] != \"\" && this.info['wfid'] != null && this.hasSaveRole) {\n      // 审核流程\n      this.navCtrl.push('WorkflowroutePage', { 'busstype': this.code, 'bussid': this.info['summaryid'], 'wfid': this.info['wfid'] });\n    } else {\n      // 发送流程\n      this.navCtrl.push('WorkflowstartPage', { 'busstype': this.code, 'bussid': this.info['summaryid'] });\n    }\n  }\n\n  //读取用户是否有撤回流程权限\n  checkFetchBack() {\n    this.httpService.checkFetchBack(this.info['wfid'], res => {\n      if (res.code == 0) {\n        this.hasFetchBackRole = true;\n      } else {\n        this.hasFetchBackRole = false\n      }\n      console.log('hasFetchBackRole' + this.hasFetchBackRole);\n    });\n  }\n  fetchBack() {\n    this.alertCtrl.create({\n      title: '是否撤回流程',\n      cssClass: 'AlertList',\n      buttons: [{\n        text: '确认',\n        handler: () => {\n          this.httpService.fecthBack(this.info['wfid'], res => {\n            if (res.code == 0) {\n              this.toastCtrl.create({\n                message: '撤回成功',\n                duration: 1200,\n                position: 'top'\n              }).present()\n            }\n          })\n        }\n      },\n      {\n        text: '取消',\n        handler: () => {\n        }\n      }\n      ]\n    }).present();\n  }\n\n  historyview() { //历史\n    this.navCtrl.push('HistorylistPage', {\n      wfid: this.info['wfid'],\n      title: '流程历史',\n    });\n  }\n\n  goback() {\n    this.navCtrl.pop()\n  }\n\n  updateWfstatus() {\n    let url = `/${this.code}/list?sort=summaryid&order=desc&_search=false&rows=&page=&sidx=&sord=asc&projectid=${this.info['projectid']}`\n    this.httpService.get(url, null, (result) => {\n      if (result != null) {\n        const rows = result.rows;\n        this.info['wfstatusname'] = rows.filter(item => item.summaryid == this.info['summaryid'])[0]['wfstatusname']\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagsummarytech/lmtagsummarytechinfo/lmtagsummarytechinfo.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LmtagsummarytechinfoPage } from './lmtagsummarytechinfo';\n\n@NgModule({\n  declarations: [\n    LmtagsummarytechinfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LmtagsummarytechinfoPage),\n  ],\n})\nexport class LmtagsummarytechinfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagsummarytech/lmtagsummarytechinfo/lmtagsummarytechinfo.module.ts"],"sourceRoot":""}