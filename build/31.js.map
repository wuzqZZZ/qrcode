{"version":3,"sources":["../../src/pages/me/systemsetup/systemsetup.ts","../../src/pages/me/systemsetup/systemsetup.module.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { Component } from '@angular/core';\nimport { ActionSheetController, IonicPage, NavController, NavParams, Events, Platform } from 'ionic-angular';\nimport { StorageProvider } from '../../../providers/storage'\nimport { HttpServicesProvider } from '../../../providers/http-services';\n/**\n * Generated class for the SystemsetupPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-systemsetup',\n  templateUrl: 'systemsetup.html',\n})\nexport class SystemsetupPage {\n  public videoshowtype = '每次提醒';\n  public isAutoLoginConfig:boolean;\n  public systemConfig=[];\n  public pioffline:boolean;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public actionSheetCtrl: ActionSheetController,\n    public storage:StorageProvider,\n    public events:Events,\n    public httpService:HttpServicesProvider,\n    public platform:Platform,\n    ){\n    this.getSystemConfig();\n    this.platform.registerBackButtonAction(()=>{\n      this.navCtrl.popToRoot();\n    })\n    let offlinepi = this.storage.get(StorageProvider.OFFLINE_PI);\n    if(offlinepi==1){\n      this.pioffline=true;\n    }else{\n      this.pioffline=false;\n    }\n  }\n  ionViewWillEnter(){\n  }\n  presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: '',\n      cssClass: 'bottomChoice',\n      buttons: [\n        {\n          text: '每次提醒',\n          // icon: 'ios-radio-button-off',\n           cssClass:'normal',\n          //role: 'destructive',\n          handler: () => {\n            console.log('Destructive clicked');\n            this.videoshowtype = '每次提醒';\n            this.storage.set(StorageProvider.ISOFFWIFILOAD,false);\n            this.events.publish('wifiConfig','每次提醒');\n          }\n        }, {\n          text: '不提醒',\n          // icon: 'ios-radio-button-off',\n           cssClass: 'normal',\n          handler: () => {\n            console.log('Archive clicked');\n            this.videoshowtype = '不提醒';\n            this.storage.set(StorageProvider.ISOFFWIFILOAD,true);\n            this.events.publish('wifiConfig','不提醒');\n          }\n        }, {\n          text: '取消',\n          role: 'cancel',\n          cssClass:'normal',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n  ionViewDidLeave(){\n    let url ='/system/shortcutService/saveList?code=APP_PERSONAL_CONFIG';\n    this.httpService.post(url,this.systemConfig,res=>{\n      if(res.code==0){\n        console.log('修改配置成功');\n      }\n    });\n  }\n  isAutoLogin(){\n    \n    this.isAutoLoginConfig=!this.isAutoLoginConfig;\n    // let data={scvalue:'isAutoLogin',remark:this.isAutoLoginConfig};\n    this.systemConfig.forEach((element)=>{\n      if(element['scvalue']=='isAutoLogin'){\n        element['remark']=this.isAutoLoginConfig;\n      }\n    }) \n    this.storage.set(StorageProvider.SYSTEM_CONFIG,this.systemConfig);\n  }\n\n  getSystemConfig(){\n    let data=[{scvalue:'isAutoLogin',remark:true}];\n    this.systemConfig=this.storage.get(StorageProvider.SYSTEM_CONFIG);\n    if (this.systemConfig == null || this.systemConfig.length==0){\n      this.systemConfig=data;\n    }\n    this.isAutoLoginConfig=this.initSingleConfig('isAutoLogin',true);\n  }\n\n  initSingleConfig(configName,defaultvalue){\n    let obj ={scvalue:configName,remark:defaultvalue};\n    let value;\n    let flag=this.systemConfig.some((element)=>{\n      if(element['scvalue']==configName){\n        value=element['remark'];\n      }else{\n        value=true;\n      }\n      return element['scvalue']==configName;\n    })\n    if(flag==false){\n      this.systemConfig.push(obj);\n    }\n    return value;\n  }\n \n  piOfflineOpen(event){\n    if(event.checked){\n      this.pioffline=true;\n      this.storage.set(StorageProvider.OFFLINE_PI,1);\n    }else{\n      this.pioffline=false;\n      this.storage.set(StorageProvider.OFFLINE_PI,0);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/systemsetup/systemsetup.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SystemsetupPage } from './systemsetup';\n\n@NgModule({\n  declarations: [\n    SystemsetupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SystemsetupPage),\n  ],\n})\nexport class SystemsetupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/systemsetup/systemsetup.module.ts"],"sourceRoot":""}