{"version":3,"sources":["../../src/pages/lm/lmtagsiteposition/lmtagsitepositioninfo/lmtagsitepositioninfo.ts","../../src/pages/lm/lmtagsiteposition/lmtagsitepositioninfo/lmtagsitepositioninfo.module.ts"],"names":[],"mappings":"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","file":"54.js","sourcesContent":["declare var $:any \nimport { Component } from '@angular/core';\nimport { Events, IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../../providers/http-services';\nimport { PhoneDeviceProvider } from '../../../../providers/phone-device';\nimport { StorageProvider } from '../../../../providers/storage';\nimport { ToolsProvider } from '../../../../providers/tools';\nimport { Utils } from '../../../../providers/Utils';\nimport { WorkflowServiceProvider } from '../../../../providers/workflow-service';\n\n/**\n * Generated class for the LmtagsitepositioninfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-lmtagsitepositioninfo',\n  templateUrl: 'lmtagsitepositioninfo.html',\n})\nexport class LmtagsitepositioninfoPage {\n  public formdata=[\n    {'name':'专业','index':'specialty','type':'select','dicttype':'BKC_SPECAIL',\"placeholder\":'请选择专业','starttoggle':true,'toggleindex':'filename','plantitle':'基本信息'},\n    {'name': '区域', 'index':'region','type':'text','placeholder':'请输入区域'},\n    {'name': '说明', 'index':'description','type':'textarea','placeholder':'请输入说明'},\n    {'name':'附件','index':'filename','type':'uploadify','placeholder':'','busstype':'lmtagSitePosition','endtoggle':true},\n    { 'name': '编制人', 'index': 'editorname', 'indexId': 'editor', 'type': 'selectUser', \"placeholder\": '请选择编制人', 'starttoggle': true, 'toggleindex': 'uploadtime', 'plantitle': '相关信息', 'linkfield': 'phone' },\n    {'name':'联系电话','index':'phone','type':'text','disabled':true,\"placeholder\":'联系电话'},\n    {'name':'上传人','index':'uploadername','indexId':'uploader','type':'selectUser',\"placeholder\":'请选择上传人'},\n    {'name':'上传时间','index':'uploadtime','type':'datetime','format':'YYYY-MM-DD HH:mm:ss',\"placeholder\":'请选择上传时间'}\n  ];\n  public forminfo={};\n  public id='';\n  public type='';\n  public wfstatusname='';\n  // public btnhide = false;\n  public pageControl ={}\n  constructor(public events: Events,public storage: StorageProvider,public navCtrl: NavController,public toastCtrl: ToastController, public navParams: NavParams,public httpService:HttpServicesProvider,public workflow: WorkflowServiceProvider,\n    public tools:ToolsProvider,\n    public phoneDevice: PhoneDeviceProvider,) {\n      this.phoneDevice.phoneBacktoPop(this.navCtrl);\n      this.id =this.navParams.get('id');\n      this.type =this.navParams.get('type');\n      this.initinfo()\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad PiinoutinfoPage');\n  }\n\n  initinfo(){\n    var that = this;\n    if(this.type == 'edit'){\n      var url = \"/query/danger/lmtagSitePosition/findOne?id=\" + this.id;\n      this.httpService.get(url, null, (result) => {\n        // console.log(result)\n        if (result.code == 0) {\n          if (result.data.length > 0) {\n            this.forminfo = result.data[0];\n            this.inituser(result.data[0].editor)\n            this.httpService.initUserName(result.data[0].editor,'editorname',this.forminfo )\n            this.httpService.initUserName(result.data[0].uploader,'uploadername',this.forminfo )\n            if(this.forminfo['uploadtime'] !=null && this.forminfo['uploadtime'] !='' ){\n              this.forminfo['uploadtime'] = new Date(new Date(this.forminfo['uploadtime']).getTime()+8*60*60*1000).toISOString();\n            }\n          }\n        }\n      });\n    }else{\n      this.id = Utils.getUuid();//id\n      this.forminfo={\n        specialty:'',\n        description:'',\n        standard:'',\n        phone:'',\n        editor:'',\n        uploader:'',\n        uploadtime: ''\n      }\n      let userinfo = this.storage.get(StorageProvider.ME_USERINFO);//读取登录人的储存信息\n      this.forminfo['phone'] =userinfo.phone;\n      this.forminfo['editorname'] =userinfo.name;\n      this.forminfo['editor'] =userinfo.id;\n      this.forminfo['uploader'] =userinfo.id;\n      this.forminfo['uploadername'] =userinfo.name;\n      this.forminfo['uploadtime'] = new Date(new Date().getTime()+8*60*60*1000).toISOString();\n      this.forminfo['projectid'] = this.storage.get(StorageProvider.LM_PROJECTID);\n      this.forminfo['positionid'] = this.id\n    }\n     \n  }\n  inituser(sigman){\n    var url = \"/query/pi/piInOut/findUserInfo?sigman=\" + sigman;\n    this.httpService.get(url, null, (result) => {\n      if(result.code == 0){\n        this.forminfo['phone'] = result.data[0]['phone'];\n      }\n    })\n  }\n  submit(){\n      if(this.forminfo['uploadtime'] !=null && this.forminfo['uploadtime'] !='' && this.forminfo['uploadtime'] !=undefined ){\n        this.forminfo['uploadtime'] = this.forminfo['uploadtime'].replace(/T/, ' ').replace(/Z/, '');\n      }\n           this.httpService.postform('/lmtagSitePosition/save','lmtagSitePosition', this.forminfo, (res) => {\n          if(res.code==0){\n            this.toastCtrl.create({\n              position:'bottom',\n              duration:1500,\n              message:'保存成功',\n            }).present();\n            this.type = 'edit';\n            this.initinfo();\n          }else{\n            this.toastCtrl.create({\n              position:'bottom',\n              duration:1500,\n              message:'保存失败',\n            }).present();\n          }\n        })\n     return true;\n   \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagsiteposition/lmtagsitepositioninfo/lmtagsitepositioninfo.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LmtagsitepositioninfoPage } from './lmtagsitepositioninfo';\nimport { ComponentsModule } from '../../../../components/components.module'\n\n@NgModule({\n  declarations: [\n    LmtagsitepositioninfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LmtagsitepositioninfoPage),ComponentsModule\n  ],\n})\nexport class LmtagsitepositioninfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagsiteposition/lmtagsitepositioninfo/lmtagsitepositioninfo.module.ts"],"sourceRoot":""}