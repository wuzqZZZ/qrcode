{"version":3,"sources":["../../src/pages/system/deptdialog/deptdialog.ts","../../src/pages/system/deptdialog/deptdialog.module.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["declare var $:any \ndeclare var fuzzySearch:any \nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,Events } from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../providers/http-services';\n// import * as $ from 'jquery'; //引用jq\n/**\n * Generated class for the DeptdialogPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-deptdialog',\n  templateUrl: 'deptdialog.html',\n})\nexport class DeptdialogPage {\n  public id='';\n  public typeid='';\n  public typename='';\n  constructor(public navCtrl: NavController, public navParams: NavParams ,public httpService:HttpServicesProvider,public events:Events) {\n    this.id=this.navParams.get('id');\n    this.typeid=this.navParams.get('typeid');\n    this.typename=this.navParams.get('typename');\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad DeptdialogPage');\n     //设置区域网格树\n     this.initTree()\n  }\n  //树初始化\n  initTree() {\n    $('#myzTree').empty();//清空树区域\n    var setting = {\n          check: {\n            enable: true,\n            chkStyle: \"radio\",\n            radioType : \"all\"\n          },\n          data: {\n              simpleData: {\n                  enable: true,\n              }\n          },\n          view: {\n            dblClickExpand: false     \n          },\n          callback: {\n            beforeClick:(e, treeId, treeNode) => {\n              // var zTree = $.fn.zTree.getZTreeObj('myzTree');\n              //  zTree.checkNode(treeNode, !treeNode.checked, null, true);\n               this.navCtrl.pop();\n              treeId.typeid = this.typeid;\n              treeId.typename = this.typename;\n              if( treeId.oldname != undefined && treeId.oldname != null &&  treeId.oldname != '' ){\n                treeId.name = treeId.oldname\n              }\n               this.events.publish('dept:deptinfo',treeId,Date.now());\n              return false;\n            },\n            onCheck: (e, treeId, treeNode) => {\n                var zTree = $.fn.zTree.getZTreeObj('myzTree');\n                var nodes = zTree.getCheckedNodes(true);\n                // console.log()\n                treeNode.typeid = this.typeid;\n                treeNode.typename = this.typename;\n                if( treeNode.oldname != undefined && treeNode.oldname != null &&  treeNode.oldname != '' ){\n                  treeNode.name = treeNode.oldname\n                }\n                this.navCtrl.pop();\n                this.events.publish('dept:deptinfo',treeNode,Date.now());\n              }\n          }\n      };\n      this.httpService.get('/cache/deptTreeList',null,(result)=>{\n        for (var i = 0 ;i<result.data.length;i++) {\n          if (result.data[i].id == this.id) {\n            result.data[i].checked = true;\n          }else{\n            result.data[i].checked = false;\n          }\n        }\n        $.fn.zTree.init($(\"#myzTree\"), setting, result.data);\n        fuzzySearch('myzTree','#search',null,true);\n      })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/deptdialog/deptdialog.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DeptdialogPage } from './deptdialog';\nimport { IndexListModule }  from 'ionic3-index-list';\n\n@NgModule({\n  declarations: [\n    DeptdialogPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DeptdialogPage),IndexListModule\n  ],\n})\nexport class DeptdialogPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/deptdialog/deptdialog.module.ts"],"sourceRoot":""}