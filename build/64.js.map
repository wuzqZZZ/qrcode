{"version":3,"sources":["../../src/pages/lm/lmtagplan/lmtagplaninfo/lmtagplaninfo.ts","../../src/pages/lm/lmtagplan/lmtagplaninfo/lmtagplaninfo.module.ts"],"names":[],"mappings":"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","file":"64.js","sourcesContent":["declare var $: any\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, Events } from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../../providers/http-services';\nimport { Utils } from '../../../../providers/Utils';\nimport { WorkflowServiceProvider } from '../../../../providers/workflow-service';\nimport { StorageProvider } from '../../../../providers/storage';\nimport { PhoneDeviceProvider } from '../../../../providers/phone-device';\nimport { ToolsProvider } from '../../../../providers/tools';\n\n/**\n * Generated class for the lmtagplaninfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-lmtagplaninfo',\n  templateUrl: 'lmtagplaninfo.html',\n})\nexport class LmtagplaninfoPage {\n  public formdata = [\n    { 'name': '任务编号', 'index': 'code', 'type': 'text', 'disabled': true, \"placeholder\": '', 'starttoggle': true, 'toggleindex': 'respersonname', 'plantitle': '任务信息' },\n    { 'name': '计划内容', 'index': 'plancontent', 'type': 'textarea', 'placeholder': '请输入计划内容' },\n    { 'name': '检查与验收标准', 'index': 'standard', 'type': 'textarea', 'placeholder': '请输入检查与验收标准' },\n    { 'name': '计划完成时间', 'index': 'planfinishtime', 'type': 'datetime', 'format': 'YYYY-MM-DD', \"placeholder\": '请选择计划完成时间' },\n    { 'name': '责任单位', 'index': 'resgroupname', 'indexId': 'resgroup', 'type': 'selectDept', \"placeholder\": '请选择责任单位' },\n    { 'name': '责任人', 'index': 'respersonname', 'indexId': 'resperson', 'type': 'selectUser', \"placeholder\": '请选择责任人', 'endtoggle': true },\n    { 'name': '实际完成时间', 'index': 'realfinishtime', 'type': 'datetime', 'format': 'YYYY-MM-DD', \"placeholder\": '请选择实际完成时间', 'starttoggle': true, 'toggleindex': 'remark', 'plantitle': '任务执行' },\n    { 'name': '实际工时(人·日)', 'index': 'realworkhour', 'type': 'text', 'disabled': true, \"placeholder\": '' },\n    { 'name': '检查人', 'index': 'checkpersonname', 'indexId': 'checkperson', 'type': 'selectUser', \"placeholder\": '请选择检查人' },\n    { 'name': '检查时间', 'index': 'checktime', 'type': 'datetime', 'format': 'YYYY-MM-DD', \"placeholder\": '请选择检查时间' },\n    { 'name': '备注', 'index': 'remark', 'type': 'textarea', 'placeholder': '请输入备注', 'endtoggle': true },\n  ];\n  public forminfo = {};\n  public id = '';\n  public type = '';\n  public wfstatusname = '';\n  // public btnhide = false;\n  public pageControl = {}\n  constructor(public events: Events, public storage: StorageProvider, public navCtrl: NavController, public toastCtrl: ToastController, public navParams: NavParams, public httpService: HttpServicesProvider, public workflow: WorkflowServiceProvider,\n    public tools: ToolsProvider,\n    public phoneDevice: PhoneDeviceProvider,) {\n    this.phoneDevice.phoneBacktoPop(this.navCtrl);\n    this.id = this.navParams.get('id');\n    this.type = this.navParams.get('type');\n    this.initinfo()\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad PiinoutinfoPage');\n  }\n  ionViewWillEnter() {\n    this.events.subscribe('workflowPage', (data, time) => {\n      if (data) {\n        this.initinfo();\n        this.events.unsubscribe('workflowPage');\n      }\n    })\n  }\n  pageElementControl(data) {\n    this.pageControl = data;\n  }\n  async pageElement(wfstatus, wfid) {// 初始化页面资源权限\n    // var that = this;\n    const data = await this.httpService.getPageControlElementAnsy(\"lmtagPlan_form\", wfstatus, wfid);\n    this.pageElementControl(data);\n    var array = this.httpService.pageDate(data);\n    this.formdata = this.httpService.getpagedata(this.formdata, array);\n\n  }\n  initstatus(status) {\n    this.httpService.getDictName(\"LMTAG_PLAN_WFSTATUS\", status, res => {\n      console.log(res)\n      if (res !== \"\") {\n        this.forminfo['wfstatusname'] = res;\n      }\n    })\n  }\n  initinfo() {\n    var that = this;\n    if (this.type == 'edit') {\n      var url = \"/query/danger/lmtagPlan/findOne?id=\" + this.id;\n      this.httpService.get(url, null, (result) => {\n        console.log(result)\n        if (result.code == 0) {\n          if (result.data.length > 0) {\n            this.forminfo = result.data[0];\n            this.pageElement(result.data[0].wfstatus, result.data[0].wfid);\n            // this.inituser(result.data[0].sigman);\n            // this.initlocation(result.data[0].location);\n            this.initstatus(result.data[0].wfstatus);\n            this.httpService.initDeptName(result.data[0].resgroup, 'resgroupname', this.forminfo)\n            this.httpService.initUserName(result.data[0].resperson, 'respersonname', this.forminfo)\n            this.httpService.initUserName(result.data[0].checkperson, 'checkpersonname', this.forminfo)\n            if (this.forminfo['planfinishtime'] != null && this.forminfo['planfinishtime'] != '') {\n              this.forminfo['planfinishtime'] = new Date(new Date(this.forminfo['planfinishtime']).getTime() + 8 * 60 * 60 * 1000).toISOString();\n            }\n            if (this.forminfo['realfinishtime'] != null && this.forminfo['realfinishtime'] != '') {\n              this.forminfo['realfinishtime'] = new Date(new Date(this.forminfo['realfinishtime']).getTime() + 8 * 60 * 60 * 1000).toISOString();\n            }\n            if (this.forminfo['checktime'] != null && this.forminfo['checktime'] != '') {\n              this.forminfo['checktime'] = new Date(new Date(this.forminfo['checktime']).getTime() + 8 * 60 * 60 * 1000).toISOString();\n            }\n            this.workflow.workflowcheckAuth(this.forminfo, 'page-lmtagplaninfo');//检查流程  \n          }\n        }\n      });\n    } else {\n      this.id = Utils.getUuid();//id\n      this.forminfo = {\n        plancontent: '',\n        standard: '',\n        planfinishtime: '',\n        resgroup: '',\n        resperson: '',\n        wfstatus: 'NEW'\n      }\n      this.initstatus('NEW');\n      this.pageElement('NEW', null);\n    }\n\n  }\n  submit() {\n    if (this.tools.initform(this.formdata, this.forminfo)) {\n      if (this.forminfo['planfinishtime'] != null && this.forminfo['planfinishtime'] != '' && this.forminfo['planfinishtime'] != undefined) {\n        this.forminfo['planfinishtime'] = this.forminfo['planfinishtime'].replace(/T/, ' ').replace(/Z/, '');\n      }\n      if (this.forminfo['realfinishtime'] != null && this.forminfo['realfinishtime'] != '' && this.forminfo['realfinishtime'] != undefined) {\n        this.forminfo['realfinishtime'] = this.forminfo['realfinishtime'].replace(/T/, ' ').replace(/Z/, '');\n      }\n      if (this.forminfo['checktime'] != null && this.forminfo['checktime'] != '' && this.forminfo['checktime'] != undefined) {\n        this.forminfo['checktime'] = this.forminfo['checktime'].replace(/T/, ' ').replace(/Z/, '');\n      }\n      this.httpService.postform('/lmtagPlan/save', 'lmtagPlan', this.forminfo, (res) => {\n        if (res.code == 0) {\n          this.initinfo();\n          this.toastCtrl.create({\n            position: 'bottom',\n            duration: 1500,\n            message: '保存成功',\n          }).present();\n        } else {\n          this.toastCtrl.create({\n            position: 'bottom',\n            duration: 1500,\n            message: '保存失败',\n          }).present();\n        }\n      })\n      return true;\n    } else {\n      return false;\n    }\n\n\n  }\n  historyview() {//历史\n    this.navCtrl.push('HistorylistPage', {\n      wfid: this.forminfo['wfid'],\n      title: '流程历史',\n    });\n  }\n  workflowStart() { //发送流程\n    // this.saveStr = \"true\";\n    if (this.submit() != false) {\n      if (this.forminfo['wfid'] != \"\" && this.forminfo['wfid'] != null) {\n        this.navCtrl.push('WorkflowroutePage', { 'busstype': 'lmtagPlan', 'bussid': this.id, 'wfid': this.forminfo['wfid'] });\n      } else {\n        //发送流程\n        this.navCtrl.push('WorkflowstartPage', { 'busstype': 'lmtagPlan', 'bussid': this.id });\n      }\n    }\n\n\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagplan/lmtagplaninfo/lmtagplaninfo.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LmtagplaninfoPage } from './lmtagplaninfo';\nimport { ComponentsModule } from '../../../../components/components.module'\n\n@NgModule({\n  declarations: [\n    LmtagplaninfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LmtagplaninfoPage),ComponentsModule\n  ],\n})\nexport class LmtagplaninfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmtagplan/lmtagplaninfo/lmtagplaninfo.module.ts"],"sourceRoot":""}