{"version":3,"sources":["../../src/pages/workflow/historylist/historylist.ts","../../src/pages/workflow/historylist/historylist.module.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["declare var $:any \nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ToastController,Events,ActionSheetController,AlertController,Platform} from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../providers/http-services';\nimport { Utils } from '../../../providers/Utils';\nimport { WorkflowServiceProvider } from '../../../providers/workflow-service';\n\nimport { ToolsProvider } from '../../../providers/tools';\nimport { StorageProvider } from '../../../providers/storage';\nimport { PhoneDeviceProvider } from '../../../providers/phone-device';\n/**\n * Generated class for the HistorylistPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-historylist',\n  templateUrl: 'historylist.html',\n})\nexport class HistorylistPage {\n  public title=\"\";\n  public wfid=\"\";\n  constructor(public events: Events,public storage: StorageProvider,public navCtrl: NavController,public toastCtrl: ToastController, public navParams: NavParams,public httpService:HttpServicesProvider,public workflow: WorkflowServiceProvider,\n    public phoneDevice: PhoneDeviceProvider,public tools:ToolsProvider,) {\n    this.phoneDevice.phoneBacktoPop(this.navCtrl);\n    this.title = this.navParams.get('title');//id\n    this.wfid = this.navParams.get('wfid');//id\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad HistorylistPage');\n    this.inithistorylist();\n  }\n  inithistorylist() {\n    if (this.wfid == \"\") {\n      $('#historylist').html('<p>暂无流程历史</p>');\n      return;\n    }\n    this.workflow.historylist(this.wfid, data => {\n      if(data.rows.length>0){\n      let html = \"\";\n      for (var i = 0; i < data.rows.length; i++) {\n        let username = \"\";\n        let wfback = \"\";\n        let timelineClass = \"\";\n        let spanClass = \"\";\n        let notesFontClass = \"\";\n        let memo = \"\";\n        let startTime = \"\";\n        let endTime = \"\";\n        if (data.rows[i].username != null) {\n          username = data.rows[i].username;\n        }\n        if (data.rows[i].memo != null && data.rows[i].memo != undefined && data.rows[i].memo != 'undefined') {\n          memo = data.rows[i].memo;\n        }\n        if (data.rows[i].startTime != null) {\n          startTime = data.rows[i].startTime;\n        }\n        if (data.rows[i].endTime != null) {\n          endTime = data.rows[i].endTime;\n        }\n        if (data.rows[i].wfback == \"1\") {\n          wfback = '<span style=\"color:red\">不通过<span>';\n        } else if (data.rows[i].wfback == \"0\") {\n          wfback = '<span style=\"color:green\">通过<span>';\n        } else {\n          wfback = \"\";\n        }\n        if (i <= 0) {\n          timelineClass = \"cd-picture\";\n          spanClass = \"bg039\";\n          notesFontClass = \"NotesFont2\";\n        } else {\n          timelineClass = \"cd-movie\";\n          spanClass = \"bg038\";\n          notesFontClass = \"NotesFont\";\n        }\n        html += '<div class=\"cd-timeline-block\"><div class=\"cd-timeline-img ' + timelineClass + '\"></div>';\n        html += '<div class=\"cd-timeline-content\"><div class=\"tips\"><span class=\"' + spanClass + '\">' + data.rows[i].nodename + '</span></div><div class=\"Notes br039\">';\n        html += '<div class=\"' + notesFontClass + '\">审批人:' + username + '</div><div class=\"' + notesFontClass + '\">审批结果:' + wfback + '</div><div class=\"' + notesFontClass + '\">审批意见:' + memo + '</div>';\n        html += '<div class=\"' + notesFontClass + '\">开始时间:' + startTime + '</div> <div class=\"' + notesFontClass + '\">完成时间:' + endTime + '</div></div></div></div>';\n      }\n      $('#historylist').html(html);\n      }else{\n      $('#historylist').html('<p>暂无流程历史</p>');\n      }\n      \n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/workflow/historylist/historylist.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HistorylistPage } from './historylist';\n\n@NgModule({\n  declarations: [\n    HistorylistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistorylistPage),\n  ],\n})\nexport class HistorylistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/workflow/historylist/historylist.module.ts"],"sourceRoot":""}