{"version":3,"sources":["../../src/pages/lm/lmnews/lmnews.ts","../../src/pages/lm/lmnews/lmnews.module.ts"],"names":[],"mappings":"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","file":"90.js","sourcesContent":["declare var $: any\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../providers/http-services';\nimport { PhoneDeviceProvider } from '../../../providers/phone-device';\nimport { StorageProvider } from '../../../providers/storage';\n\n/**\n * Generated class for the LmnewsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-lmnews',\n  templateUrl: 'lmnews.html',\n})\nexport class LmnewsPage {\n\n  public newslist = [];\n  public projectid = '';\n\n  constructor(public navCtrl: NavController, public storage: StorageProvider, public navParams: NavParams, public httpService: HttpServicesProvider,\n    public phoneDevice: PhoneDeviceProvider) {\n    this.phoneDevice.phoneBacktoRoot(this.navCtrl);\n    \n    this.projectid = this.storage.get(StorageProvider.LM_PROJECTID);\n\n    // this.initlist()\n  }\n\n  ionViewWillEnter() {\n    this.initlist()\n  }\n\n  initlist() {\n    var url = '/lmtagInteractive/list?projectid=' + this.projectid + '&sort=code&order=desc&_search=false&nd=1681442055425&rows=15&page=1&sidx=&sord=asc'\n\n    this.httpService.get(url, null, async res => {\n      if (res.rows.length > 0) {\n        // this.newslist = res.rows\n\n        for (let i = 0; i < res.rows.length; i++) {\n          res.rows[i].coverfile = await this.initfiles(res.rows[i].interactiveid)\n        }\n\n        console.log(res.rows);\n        this.newslist = res.rows\n\n        setTimeout(() => {\n          $('page-lmnews .newsbox').show()\n        }, 1);\n        \n      }\n    })\n  }\n\n  // initfiles(id, index, key) {\n  //   this.httpService.getFiles('lmtagInteractive', id, res => {\n  //     if (res.code == 0) {\n  //       this.newslist[index][key] = res.data[0]\n  //     }\n  //   })\n  // }\n  initfiles(id) {\n    return new Promise(resolve => {\n      this.httpService.getFiles('lmtagInteractive', id, res => {\n        if (res.code == 0 && res.data.length > 0) {\n          resolve(res.data[0])\n        } else {\n          resolve(null)\n        }\n      })\n    })\n  }\n\n  gohomePage() {\n    this.navCtrl.push('TabsPage', {\n      curTabIndex: 1\n    })\n  }\n\n  planmore(id) {\n    this.navCtrl.push('LmnewsinfoPage', {\n      type: 'edit',\n      interactiveid: id,\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmnews/lmnews.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LmnewsPage } from './lmnews';\n\n@NgModule({\n  declarations: [\n    LmnewsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LmnewsPage),\n  ],\n})\nexport class LmnewsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lm/lmnews/lmnews.module.ts"],"sourceRoot":""}