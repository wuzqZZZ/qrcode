{"version":3,"sources":["../../src/pages/me/me.ts","../../src/pages/me/me.module.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,AlertController,App } from 'ionic-angular';\nimport { StorageProvider } from '../../providers/storage';\nimport { HttpServicesProvider } from '../../providers/http-services';\n// import { LoginPage } from './login/login';\nimport { ActionSheetController } from 'ionic-angular'\nimport { Camera ,CameraOptions} from '@ionic-native/camera';\nimport { ConfigProvider } from '../../providers/config';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-me',\n  templateUrl: 'me.html',\n})\nexport class MePage {\n  public masterinfo={};\n  // public LoginPage=LoginPage;\n  public headImageUrl:SafeUrl;\n  public username:string='';\n  constructor(public navCtrl: NavController,\n     public navParams: NavParams,\n     public httpService:HttpServicesProvider,\n     public storage:StorageProvider,\n     private alertCtrl:AlertController,\n     private app: App,\n     private actionsheetCtrl:ActionSheetController,\n     public config:ConfigProvider,\n     public statusBar: StatusBar, \n    private camera: Camera,\n    private sanitizer: DomSanitizer) {\n       \n      statusBar.styleDefault();\n\n    this.masterinfo={\"showWall\":\"assets/imgs/discover/material6.jpg\",\"head\":\"assets/imgs/discover/title.png\",\"name\":\"金文文\"};\n  }\n  ionViewWillEnter(){\n    this.username=this.storage.get(StorageProvider.ME_USERINFO)['name'];\n    this.getHeadimg();\n    this.statusBar.styleDefault();\n  }\n  getHeadimg(){\n    let userinfo=this.storage.get(StorageProvider.ME_USERINFO);\n    this.httpService.getFiles('USER_IMG',userinfo['id'],res=>{\n      if(res.code==0){\n        if(res.data.length>0){\n          // this.headImageUrl = res.data[0]['url'];\n          this.httpService.getBlob(res.data[0]['url'], (res) => {\n            this.headImageUrl = this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(res))\n            // console.log(`getHeadimg  this.headImageUrl => `, this.headImageUrl)\n          })\n        }\n      }\n    })\n  }\n  toggleHeadImage(){\n    \n  }\n  SecuritysetPage(){\n    this.navCtrl.push('SecuritysetPage');\n  }\n  SystemsetupPage(){\n    this.navCtrl.push('SystemsetupPage');\n  }\n  AboutusPage(){\n    this.navCtrl.push('AboutusPage');\n  }\n\n  loginout(){\n    let alert = this.alertCtrl.create({\n      title:'退出提醒',\n      subTitle:'您确定要退出吗？',\n      buttons:['取消',{\n          text:'确定',\n          handler:()=>{\n            var api='/logout';\n            this.storage.remove(StorageProvider.ME_USERINFO); \n                  this.storage.remove(StorageProvider.ME_LOGIN_USERINFO); \n                  this.storage.remove(StorageProvider.HOME_APPAUTHORITY);\n                  this.storage.remove(StorageProvider.SYSTEM_CONFIG);\n                  this.storage.remove(StorageProvider.ALLAPPLICATION);\n                  this.storage.remove(StorageProvider.ISKEEP_PASSWORD);\n                  this.app.getRootNav().setRoot('LoginPage');  \n            this.httpService.post(api,null,(data)=>{\n              if(data.code==0){//登录成功\n                        \n              }\n            },null);\n          }\n        }]\n    })\n    alert.present();  \n  }\n  doCamera(sourceType) {\n    const options: CameraOptions = {\n      quality: 100, //图片质量\n      destinationType: this.camera.DestinationType.FILE_URI,  /*返回的类型*/\n      encodingType: this.camera.EncodingType.JPEG,\n      sourceType: sourceType,\n      correctOrientation: true,//陀螺仪纠正照片方向\n      // mediaType: this.camera.MediaType.PICTURE,\n      //allowEdit:true,\n      targetWidth: 1024,  /*宽度高度要设置*/\n      targetHeight: 1024\n    }\n    this.camera.getPicture(options).then((imagedata)=>{\n      this.masterinfo['head']=imagedata;\n    })\n  }\n  changeHeader(){\n    // console.log($('#add').src);\n    const actionsheet = this.actionsheetCtrl.create({\n      // cssClass:'headChoice',\n      buttons: [\n        {\n          text: '拍照',\n          role: 'destructive',\n          cssClass: 'normal',\n          handler: () => {\n            this.doCamera(this.camera.PictureSourceType.CAMERA);\n            \n          }\n        }, {\n          text: '从手机相册中选择',\n          cssClass: 'normal',\n          handler: () => {\n            this.doCamera(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        }, {\n          text: '录小视频',\n          cssClass: 'normal',\n          handler: () => {\n            console.log('Archive clicked');\n          }\n        },\n        {\n          text: '录音',\n          cssClass: 'normal',\n          handler: () => {\n            console.log('Archive clicked');\n          }\n        }, {\n          text: '取消',\n          role: 'cancel',\n          cssClass: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    })\n    actionsheet.present();\n  }\n  skiptoAnnex(){\n    this.navCtrl.push('AnnexPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/me.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MePage } from './me';\n\n@NgModule({\n  declarations: [\n    MePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MePage),\n  ],\n})\nexport class MePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/me.module.ts"],"sourceRoot":""}