{"version":3,"sources":["../../src/pages/system/projectdialog/projectdialog.ts","../../src/pages/system/projectdialog/projectdialog.module.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { Events, IonicPage, ModalController, Navbar, NavController, NavParams, Platform } from 'ionic-angular';\nimport { HttpServicesProvider } from '../../../providers/http-services';\nimport { PhoneDeviceProvider } from '../../../providers/phone-device';\nimport { StorageProvider } from '../../../providers/storage';\n/**\n * Generated class for the ProjectdialogPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-projectdialog',\n  templateUrl: 'projectdialog.html',\n})\nexport class ProjectdialogPage {\n  public nowPage = 1;\n  public maxPage = 1;\n  public projectList = [];\n  public showleassetinfo = false;\n  public assetLevel = [];\n  public assetStatus = [];\n  public assetType = [];\n  public description: string;\n  public tag = false;\n  public level = '';\n  public type = '';\n  public status = '';\n  public title = '';\n  public event: any;\n  public projectid: string;\n  // public dataListFlag = false;\n  // @ViewChild(NavBar) navbar:Navbar;\n  // @ViewChild('leassetInput') myinput: TextInput;\n  @ViewChild(Navbar) navbar: Navbar;\n  // @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public httpServices: HttpServicesProvider,\n    public platform: Platform,\n    public phonedevice: PhoneDeviceProvider,\n    public modalCtrl: ModalController,\n    public events: Events,\n    public storage: StorageProvider,\n    public ele: ElementRef) {\n    this.platform.registerBackButtonAction(() => {\n      this.navCtrl.pop();\n    })\n    this.projectid = this.storage.get(StorageProvider.LM_PROJECTID);\n  }\n  ionViewWillEnter() {\n    this.initProjectList();\n  }\n  ionViewDidEnter() {\n    // setTimeout(() => {\n    //   console.log(this.myinput);\n    //   this.myinput.setFocus();\n    // }, 300);\n  }\n\n  doRefresh(event) {\n    this.initProjectList();\n  }\n  doInfinite(event) {\n    console.log(this.nowPage, this.maxPage);\n    \n    if (this.nowPage < this.maxPage) {\n      event.enable(true);\n      this.initProjectList();\n      event.complete();\n      console.log(this.nowPage);\n    } else if (this.nowPage == this.maxPage) {\n      this.event = event;\n      this.initProjectList();\n      event.enable(false);\n    }\n  }\n  initProjectList() {\n    if (this.description == undefined) {\n      this.description = '';\n    }\n    if (this.nowPage <= this.maxPage) {\n\n      if (this.event) {\n        this.event.enable(true);\n      }\n      let url = '/lmtagProject/list?sort=code&order=asc&_search=false&rows=15&projectid=' + this.projectid + '&page=' + this.nowPage + '&sidx=&sord=asc' + '&fuzzysearch=' + encodeURIComponent(this.description);\n      this.httpServices.get(url, null, (res) => {\n        if (res['rows'].length > 0) {\n          this.maxPage = res['total'];\n          for (let i = 0; i < res['rows'].length; i++) {\n            this.projectList.push(res['rows'][i])\n          }\n        }\n        this.nowPage++;\n      })\n\n    }\n  }\n\n  finddescription() {\n    this.projectList = [];\n    this.nowPage = 1;\n    this.initProjectList();\n  }\n\n  commit(item) {\n    this.events.publish('project', item);\n    console.log(item['projectid']);\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/projectdialog/projectdialog.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProjectdialogPage } from './projectdialog';\n\n@NgModule({\n  declarations: [\n    ProjectdialogPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProjectdialogPage),\n  ],\n})\nexport class ProjectdialogPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/projectdialog/projectdialog.module.ts"],"sourceRoot":""}